<%- layout('boilerplate') %>

<div class="container mt-5">
    <h1 class="text-center mb-4">Employee List</h1>
    <div class="row">
        <% employees.forEach(employee => { %>
            <div class="col-md-4 mb-4">
                <div class="card">
                    <img src="<%= employee.imgUpload %>" class="card-img-top" alt="<%= employee.name %>">
                    <div class="card-body">
                        <h5 class="card-title"><%= employee.name %></h5>
                        <p class="card-text"><strong>Email:</strong> <%= employee.email %></p>
                        <p class="card-text"><strong>Mobile:</strong> <%= employee.mobile %></p>
                        <p class="card-text"><strong>Designation:</strong> <%= employee.designation %></p>
                        <p class="card-text"><strong>Gender:</strong> <%= employee.gender %></p>
                        <p class="card-text"><strong>Courses:</strong> <%= employee.courses.join(', ') %></p>
                        <p class="card-text"><small class="text-muted">Created At: <%= new Date(employee.createdAt).toLocaleString() %></small></p>
                        <a href="/edit/<%= employee._id %>" type="button" class="btn btn-outline-primary">Edit</a>
                        
                        <!-- Delete button -->
                        <form action="/delete/<%= employee._id %>" method="POST" class="d-inline">
                            <input type="hidden" name="_method" value="DELETE">
                            <button type="submit" class="btn btn-outline-danger" onclick="return confirm('Are you sure you want to delete this employee?');">Delete</button>
                        </form>
                        
                    </div>
                </div>
            </div>
        <% }); %>
    </div>
</div>
